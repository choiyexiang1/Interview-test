{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ethan\\\\Desktop\\\\SpaceX_Test\\\\pages\\\\rocket\\\\[id].js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n                        query GET_ROCKET {\\n                            histories {\\n                                title\\n                                details\\n                                event_date_utc\\n                                flight {\\n                                  rocket {\\n                                    rocket {\\n                                      id\\n                                    }\\n                                  }\\n                                }\\n                              }\\n                              rocket(id: \\\"\", \"\\\") {\\n                                id\\n                                name\\n                                description\\n                                country\\n                                diameter {\\n                                  feet\\n                                  meters\\n                                }\\n                                height {\\n                                  feet\\n                                  meters\\n                                }\\n                                mass {\\n                                  kg\\n                                  lb\\n                                }\\n                                payload_weights {\\n                                  kg\\n                                  lb\\n                                  name\\n                                }\\n                                first_stage {\\n                                  burn_time_sec\\n                                  engines\\n                                  fuel_amount_tons\\n                                  thrust_vacuum {\\n                                    kN\\n                                    lbf\\n                                  }\\n                                  thrust_sea_level {\\n                                    kN\\n                                    lbf\\n                                  }\\n                                }\\n                                second_stage {\\n                                  burn_time_sec\\n                                  engines\\n                                  thrust {\\n                                    kN\\n                                    lbf\\n                                  }\\n                                }\\n                                wikipedia\\n                              }\\n                        }\\n                    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport gql from \"graphql-tag\";\nimport Head from 'next/head';\nimport Layout, { client } from '../../components/Layout';\nimport Loader from '../../components/Loader';\n\nvar Rocket = function Rocket() {\n  var _useState = useState({}),\n      rocket = _useState[0],\n      setRocket = _useState[1];\n\n  var _useState2 = useState([]),\n      histories = _useState2[0],\n      setHistories = _useState2[1];\n\n  var _useState3 = useState(true),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1]; // https://github.com/zeit/next.js/issues/8259\n\n\n  var _useState4 = useState(null),\n      id = _useState4[0],\n      setId = _useState4[1];\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  useEffect(function () {\n    setId(query.id);\n\n    if (id) {\n      client.query({\n        query: gql(_templateObject(), id)\n      }).then(function (result) {\n        // console.log(result)\n        setRocket(result.data.rocket);\n        setIsLoading(false);\n        setHistories(result.data.histories);\n      });\n    }\n  }, [query, id]); // Filter out histories don't have flight\n\n  var filterHistory = histories.filter(function (history) {\n    return history.flight;\n  }); // console.log(filterHistory)\n  // Filter out id not same with this page\n\n  var rocketHistory = filterHistory.filter(function (history) {\n    return history.flight.rocket.rocket.id == \"\".concat(id);\n  }); // console.log(rocketHistory)\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, isLoading ? //isLoading (true)--------------------------------------------------------------------------------------------\n  __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      backgroundColor: 'black',\n      opacity: 0.8,\n      height: '92vh'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }))) : //isLoading (false)--------------------------------------------------------------------------------------------\n  __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, rocket.name, \" | SpaceX\")), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, \"RocketName: \", rocket.name), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"RocketDescription: \", rocket.description), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"RocketCountry: \", rocket.country), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, \"RocketDiameter: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, \"Feet:\", rocket.diameter.feet), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, \"Meters:\", rocket.diameter.meters), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"RocketHeight: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"Feet:\", rocket.height.feet), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"Meters:\", rocket.height.meters), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"RocketMass: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"Kg:\", rocket.mass.kg), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"Lb:\", rocket.mass.lb), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }), rocket.payload_weights.map(function (payload) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, \"PayloadName: \", payload.name), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, \"PayloadWeight: \"), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }, \"Kg:\", payload.kg), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, \"Lb:\", payload.lb));\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"FirstStageEngines: \", rocket.first_stage.engines), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"FirstStageBurnTime: \", rocket.first_stage.burn_time_sec, \"sec\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, \"FirstStageThrustVacuum: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Kn:\", rocket.first_stage.thrust_vacuum.kN), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"Lbf:\", rocket.first_stage.thrust_vacuum.lbf), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, \"FirstStageThrustSeaLevel: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \"Kn:\", rocket.first_stage.thrust_sea_level.kN), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Lbf:\", rocket.first_stage.thrust_sea_level.lbf), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, \"SecondStageEngines: \", rocket.second_stage.engines), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"SecondStageBurnTime: \", rocket.second_stage.burn_time_sec, \"sec\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"SecondStageThrust: \"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, \"Kn:\", rocket.second_stage.thrust.kN), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, \"Lbf:\", rocket.second_stage.thrust.lbf), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }), rocketHistory.map(function (history) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, \"HistoryTitle: \", history.title), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }, \"HistoryDetails: \", history.details), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }, \"HistoryDate: \", history.event_date_utc));\n  })));\n};\n\nexport default Rocket;","map":{"version":3,"sources":["C:/Users/ethan/Desktop/SpaceX_Test/pages/rocket/[id].js"],"names":["useEffect","useState","useRouter","gql","Head","Layout","client","Loader","Rocket","rocket","setRocket","histories","setHistories","isLoading","setIsLoading","id","setId","query","then","result","data","filterHistory","filter","history","flight","rocketHistory","backgroundColor","opacity","height","name","description","country","diameter","feet","meters","mass","kg","lb","payload_weights","map","payload","first_stage","engines","burn_time_sec","thrust_vacuum","kN","lbf","thrust_sea_level","second_stage","thrust","title","details","event_date_utc"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router'\r\nimport gql from \"graphql-tag\";\r\nimport Head from 'next/head';\r\n\r\nimport Layout, { client } from '../../components/Layout';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Rocket = () => {\r\n\r\n    const [rocket, setRocket] = useState({})\r\n    const [histories, setHistories] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    // https://github.com/zeit/next.js/issues/8259\r\n    const [id, setId] = useState(null)\r\n    const { query } = useRouter()\r\n\r\n    useEffect(() => {\r\n        setId(query.id)\r\n\r\n        if (id) {\r\n            client\r\n                .query({\r\n                    query: gql`\r\n                        query GET_ROCKET {\r\n                            histories {\r\n                                title\r\n                                details\r\n                                event_date_utc\r\n                                flight {\r\n                                  rocket {\r\n                                    rocket {\r\n                                      id\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                              rocket(id: \"${id}\") {\r\n                                id\r\n                                name\r\n                                description\r\n                                country\r\n                                diameter {\r\n                                  feet\r\n                                  meters\r\n                                }\r\n                                height {\r\n                                  feet\r\n                                  meters\r\n                                }\r\n                                mass {\r\n                                  kg\r\n                                  lb\r\n                                }\r\n                                payload_weights {\r\n                                  kg\r\n                                  lb\r\n                                  name\r\n                                }\r\n                                first_stage {\r\n                                  burn_time_sec\r\n                                  engines\r\n                                  fuel_amount_tons\r\n                                  thrust_vacuum {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                  thrust_sea_level {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                }\r\n                                second_stage {\r\n                                  burn_time_sec\r\n                                  engines\r\n                                  thrust {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                }\r\n                                wikipedia\r\n                              }\r\n                        }\r\n                    `\r\n                })\r\n                .then(result => {\r\n                    // console.log(result)\r\n                    setRocket(result.data.rocket)\r\n                    setIsLoading(false)\r\n                    setHistories(result.data.histories)\r\n                });\r\n        }\r\n    }, [query, id])\r\n\r\n    // Filter out histories don't have flight\r\n    const filterHistory = histories.filter(function (history) {\r\n        return (history.flight)\r\n    });\r\n    // console.log(filterHistory)\r\n\r\n    // Filter out id not same with this page\r\n    const rocketHistory = filterHistory.filter(function (history) {\r\n        return (history.flight.rocket.rocket.id == `${id}`)\r\n    });\r\n    // console.log(rocketHistory)\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {isLoading ?\r\n                //isLoading (true)--------------------------------------------------------------------------------------------\r\n                <Layout>\r\n                    <div style={{ backgroundColor: 'black', opacity: 0.8, height: '92vh' }}>\r\n                        <Loader />\r\n                    </div>\r\n                </Layout>\r\n                :\r\n                //isLoading (false)--------------------------------------------------------------------------------------------\r\n                <Layout>\r\n                    <Head>\r\n                        <title>{rocket.name} | SpaceX</title>\r\n                    </Head>\r\n                    <p>RocketName: {rocket.name}</p>\r\n                    <p>RocketDescription: {rocket.description}</p>\r\n                    <p>RocketCountry: {rocket.country}</p>\r\n                    <br/>\r\n                    <p>RocketDiameter: </p>\r\n                    <p>Feet:{rocket.diameter.feet}</p>\r\n                    <p>Meters:{rocket.diameter.meters}</p>\r\n                    <br/>\r\n                    <p>RocketHeight: </p>\r\n                    <p>Feet:{rocket.height.feet}</p>\r\n                    <p>Meters:{rocket.height.meters}</p>\r\n                    <br/>\r\n                    <p>RocketMass: </p>\r\n                    <p>Kg:{rocket.mass.kg}</p>\r\n                    <p>Lb:{rocket.mass.lb}</p>\r\n                    <br/>\r\n                    {rocket.payload_weights.map(payload => (\r\n                        <div>\r\n                            <p>PayloadName: {payload.name}</p>\r\n                            <p>PayloadWeight: </p>\r\n                            <p>Kg:{payload.kg}</p>\r\n                            <p>Lb:{payload.lb}</p>\r\n                        </div>\r\n                    ))}\r\n                    <br/>\r\n                    <p>FirstStageEngines: {rocket.first_stage.engines}</p>\r\n                    <p>FirstStageBurnTime: {rocket.first_stage.burn_time_sec}sec</p>\r\n                    <p>FirstStageThrustVacuum: </p>\r\n                    <p>Kn:{rocket.first_stage.thrust_vacuum.kN}</p>\r\n                    <p>Lbf:{rocket.first_stage.thrust_vacuum.lbf}</p>\r\n                    <p>FirstStageThrustSeaLevel: </p>\r\n                    <p>Kn:{rocket.first_stage.thrust_sea_level.kN}</p>\r\n                    <p>Lbf:{rocket.first_stage.thrust_sea_level.lbf}</p>\r\n                    <br/>\r\n                    <p>SecondStageEngines: {rocket.second_stage.engines}</p>\r\n                    <p>SecondStageBurnTime: {rocket.second_stage.burn_time_sec}sec</p>\r\n                    <p>SecondStageThrust: </p>\r\n                    <p>Kn:{rocket.second_stage.thrust.kN}</p>\r\n                    <p>Lbf:{rocket.second_stage.thrust.lbf}</p>\r\n\r\n                    <br />\r\n                    {rocketHistory.map(history => (\r\n                        <div>\r\n                            <p>HistoryTitle: {history.title}</p>\r\n                            <p>HistoryDetails: {history.details}</p>\r\n                            <p>HistoryDate: {history.event_date_utc}</p>\r\n                        </div>\r\n                    ))}\r\n\r\n                </Layout>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rocket"]},"metadata":{},"sourceType":"module"}