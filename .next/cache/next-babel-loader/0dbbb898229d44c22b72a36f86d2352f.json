{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ethan\\\\Desktop\\\\SpaceX_Test\\\\pages\\\\rocket\\\\[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport gql from \"graphql-tag\";\nimport Head from 'next/head';\nimport Layout, { client } from '../../components/Layout';\nimport Loader from '../../components/Loader';\n\nconst Rocket = () => {\n  const {\n    0: rocket,\n    1: setRocket\n  } = useState({});\n  const {\n    0: histories,\n    1: setHistories\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true); // https://github.com/zeit/next.js/issues/8259\n\n  const {\n    0: id,\n    1: setId\n  } = useState(null);\n  const {\n    query\n  } = useRouter();\n  useEffect(() => {\n    setId(query.id);\n\n    if (id) {\n      client.query({\n        query: gql`\n                        query GET_ROCKET {\n                            histories {\n                                title\n                                details\n                                event_date_utc\n                                flight {\n                                  rocket {\n                                    rocket {\n                                      id\n                                    }\n                                  }\n                                }\n                              }\n                              rocket(id: \"${id}\") {\n                                id\n                                name\n                                description\n                                country\n                                diameter {\n                                  feet\n                                  meters\n                                }\n                                height {\n                                  feet\n                                  meters\n                                }\n                                mass {\n                                  kg\n                                  lb\n                                }\n                                payload_weights {\n                                  kg\n                                  lb\n                                  name\n                                }\n                                first_stage {\n                                  burn_time_sec\n                                  engines\n                                  fuel_amount_tons\n                                  thrust_vacuum {\n                                    kN\n                                    lbf\n                                  }\n                                  thrust_sea_level {\n                                    kN\n                                    lbf\n                                  }\n                                }\n                                second_stage {\n                                  burn_time_sec\n                                  engines\n                                  thrust {\n                                    kN\n                                    lbf\n                                  }\n                                }\n                                wikipedia\n                                stages\n                              }\n                        }\n                    `\n      }).then(result => {\n        // console.log(result)\n        setRocket(result.data.rocket);\n        setIsLoading(false);\n        setHistories(result.data.histories);\n      });\n    }\n  }, [query, id]); // Filter out histories don't have flight\n\n  const filterHistory = histories.filter(history => {\n    return history.flight;\n  }); // console.log(filterHistory)\n  // Filter out id not same with this page\n\n  const rocketHistory = filterHistory.filter(history => {\n    return history.flight.rocket.rocket.id == `${id}`;\n  }); // console.log(rocketHistory)\n\n  const changeNum = x => {\n    return x.toLocaleString(x);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, isLoading ? //isLoading (true)--------------------------------------------------------------------------------------------\n  __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      backgroundColor: 'black',\n      opacity: 0.8,\n      height: '92vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }))) : //isLoading (false)--------------------------------------------------------------------------------------------\n  __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, rocket.name, \" | SpaceX\")), __jsx(\"section\", {\n    class: \"section has-text-black has-background-white-bis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, __jsx(\"h1\", {\n    class: \"title is-size-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, rocket.name), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, rocket.description), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }), rocket.id == \"falcon1\" || \"falcon9\" ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, __jsx(\"button\", {\n    class: \"button is-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, \"Histories\"), __jsx(\"button\", {\n    class: \"button is-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, \"Launch Manifest\"), __jsx(\"button\", {\n    class: \"button is-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, \"Pricing\")) : null))));\n};\n\nexport default Rocket;","map":{"version":3,"sources":["C:/Users/ethan/Desktop/SpaceX_Test/pages/rocket/[id].js"],"names":["useEffect","useState","useRouter","gql","Head","Layout","client","Loader","Rocket","rocket","setRocket","histories","setHistories","isLoading","setIsLoading","id","setId","query","then","result","data","filterHistory","filter","history","flight","rocketHistory","changeNum","x","toLocaleString","backgroundColor","opacity","height","name","description"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router'\r\nimport gql from \"graphql-tag\";\r\nimport Head from 'next/head';\r\n\r\nimport Layout, { client } from '../../components/Layout';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Rocket = () => {\r\n\r\n    const [rocket, setRocket] = useState({})\r\n    const [histories, setHistories] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    // https://github.com/zeit/next.js/issues/8259\r\n    const [id, setId] = useState(null)\r\n    const { query } = useRouter()\r\n\r\n    useEffect(() => {\r\n        setId(query.id)\r\n\r\n        if (id) {\r\n            client\r\n                .query({\r\n                    query: gql`\r\n                        query GET_ROCKET {\r\n                            histories {\r\n                                title\r\n                                details\r\n                                event_date_utc\r\n                                flight {\r\n                                  rocket {\r\n                                    rocket {\r\n                                      id\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                              rocket(id: \"${id}\") {\r\n                                id\r\n                                name\r\n                                description\r\n                                country\r\n                                diameter {\r\n                                  feet\r\n                                  meters\r\n                                }\r\n                                height {\r\n                                  feet\r\n                                  meters\r\n                                }\r\n                                mass {\r\n                                  kg\r\n                                  lb\r\n                                }\r\n                                payload_weights {\r\n                                  kg\r\n                                  lb\r\n                                  name\r\n                                }\r\n                                first_stage {\r\n                                  burn_time_sec\r\n                                  engines\r\n                                  fuel_amount_tons\r\n                                  thrust_vacuum {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                  thrust_sea_level {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                }\r\n                                second_stage {\r\n                                  burn_time_sec\r\n                                  engines\r\n                                  thrust {\r\n                                    kN\r\n                                    lbf\r\n                                  }\r\n                                }\r\n                                wikipedia\r\n                                stages\r\n                              }\r\n                        }\r\n                    `\r\n                })\r\n                .then(result => {\r\n                    // console.log(result)\r\n                    setRocket(result.data.rocket)\r\n                    setIsLoading(false)\r\n                    setHistories(result.data.histories)\r\n                });\r\n        }\r\n    }, [query, id])\r\n\r\n    // Filter out histories don't have flight\r\n    const filterHistory = histories.filter(history => {\r\n        return (history.flight)\r\n    });\r\n    // console.log(filterHistory)\r\n\r\n    // Filter out id not same with this page\r\n    const rocketHistory = filterHistory.filter(history => {\r\n        return (history.flight.rocket.rocket.id == `${id}`)\r\n    });\r\n    // console.log(rocketHistory)\r\n\r\n    const changeNum = (x) => {\r\n        return x.toLocaleString(x);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {isLoading ?\r\n                //isLoading (true)--------------------------------------------------------------------------------------------\r\n                <Layout>\r\n                    <div style={{ backgroundColor: 'black', opacity: 0.8, height: '92vh' }}>\r\n                        <Loader />\r\n                    </div>\r\n                </Layout>\r\n                :\r\n                //isLoading (false)--------------------------------------------------------------------------------------------\r\n                <Layout>\r\n                    <Head>\r\n                        <title>{rocket.name} | SpaceX</title>\r\n                    </Head>\r\n\r\n                    <section class=\"section has-text-black has-background-white-bis\">\r\n                        <div class=\"container\">\r\n                            <h1 class=\"title is-size-1\">{rocket.name}</h1>\r\n                            <p>{rocket.description}</p>\r\n                            <br />\r\n                            {rocket.id == \"falcon1\" || \"falcon9\" ?\r\n                            <div>\r\n                                <button class=\"button is-dark\">Histories</button>\r\n                                <button class=\"button is-dark\">Launch Manifest</button>\r\n                                <button class=\"button is-dark\">Pricing</button>\r\n                            </div>:\r\n                            null\r\n                            }\r\n                        </div>\r\n                    </section>\r\n                </Layout>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rocket"]},"metadata":{},"sourceType":"module"}